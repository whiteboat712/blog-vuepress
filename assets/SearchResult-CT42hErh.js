import{u as M,j as te,m as se,p as U,q as ae,P as le,v as re,x as ie,l as b,y as D,z as oe,w as Y,k as s,A as ne,R as j,B as ue,C as Ee,D as ce,E as de,G as pe,H as he,I as ve,J as ye,K as me,L as H,M as Ae,N as ge,O as Be,Q as O,S as I,T as xe}from"./app-CtSEghw9.js";const fe=["/","/intro.html","/demo/","/demo/disable.html","/demo/layout.html","/demo/markdown.html","/demo/page.html","/en/","/en/intro.html","/en/demo/","/en/demo/disable.html","/en/demo/layout.html","/en/demo/markdown.html","/en/demo/page.html","/posts/life/%E5%B0%81%E5%AF%9D%E5%8D%81%E5%A4%A9%E5%B0%8F%E8%AE%B0.html","/posts/project/Python%E5%AE%9E%E7%8E%B02048.html","/posts/coding-train/Exercise-list/%E5%88%B7%E9%A2%98%E6%97%A5%E8%AE%B0day1-Flip%20Game.html","/posts/coding-train/Exercise-list/%E5%88%B7%E9%A2%98%E6%97%A5%E8%AE%B0day10-Currency%20Exchange.html","/posts/coding-train/Exercise-list/%E5%88%B7%E9%A2%98%E6%97%A5%E8%AE%B0day11-Wormholes.html","/posts/coding-train/Exercise-list/%E5%88%B7%E9%A2%98%E6%97%A5%E8%AE%B0day12-Balance.html","/posts/coding-train/Exercise-list/%E5%88%B7%E9%A2%98%E6%97%A5%E8%AE%B0day13-Cash%20Machine.html","/posts/coding-train/Exercise-list/%E5%88%B7%E9%A2%98%E6%97%A5%E8%AE%B0day14-The%20Cow%20Lexicon.html","/posts/coding-train/Exercise-list/%E5%88%B7%E9%A2%98%E6%97%A5%E8%AE%B0day15-Alignment.html","/posts/coding-train/Exercise-list/%E5%88%B7%E9%A2%98%E6%97%A5%E8%AE%B0day16-Code.html","/posts/coding-train/Exercise-list/%E5%88%B7%E9%A2%98%E6%97%A5%E8%AE%B0day2-The%20Pilots%20Brothers'%20refrigerator.html","/posts/coding-train/Exercise-list/%E5%88%B7%E9%A2%98%E6%97%A5%E8%AE%B0day3-Radar%20Installation.html","/posts/coding-train/Exercise-list/%E5%88%B7%E9%A2%98%E6%97%A5%E8%AE%B0day4-Power%20of%20Cryptography.html","/posts/coding-train/Exercise-list/%E5%88%B7%E9%A2%98%E6%97%A5%E8%AE%B0day5-Y2K%20Accounting%20Bug.html","/posts/coding-train/Exercise-list/%E5%88%B7%E9%A2%98%E6%97%A5%E8%AE%B0day6-Tautology.html","/posts/coding-train/Exercise-list/%E5%88%B7%E9%A2%98%E6%97%A5%E8%AE%B0day7-Parencodings.html","/posts/coding-train/Exercise-list/%E5%88%B7%E9%A2%98%E6%97%A5%E8%AE%B0day8-Crashing%20Robots.html","/posts/coding-train/Exercise-list/%E5%88%B7%E9%A2%98%E6%97%A5%E8%AE%B0day9-Robot%20Motion.html","/posts/coding-train/contest/2022-10-22%E6%B2%B3%E5%8C%97%E7%9C%81%E8%B5%9B%E8%B5%9B%E5%90%8E%E5%8F%8D%E6%80%9D.html","/posts/note/algorithm/%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0(%E4%B8%80)%E5%8D%95%E8%B0%83%E9%98%9F%E5%88%97.html","/posts/note/algorithm/%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0(%E4%BA%8C)%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95.html","/posts/note/data-structure/Java%E5%AE%9E%E7%8E%B0%E6%A8%A1%E6%8B%9F%E6%A0%88.html","/posts/note/exploration/C__%E4%B8%AD%E7%9A%84this.html","/404.html","/posts/life/","/posts/","/posts/project/","/posts/coding-train/Exercise-list/","/posts/coding-train/","/posts/coding-train/contest/","/posts/note/algorithm/","/posts/note/","/posts/note/data-structure/","/posts/note/exploration/","/category/","/category/%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/","/category/%E6%8C%87%E5%8D%97/","/category/%E9%A2%98%E7%9B%AE%E8%AE%B0%E5%BD%95/","/category/%E9%A2%98%E5%8D%95/","/category/%E7%AB%9E%E8%B5%9B/","/en/category/","/en/category/guide/","/tag/","/tag/%E7%A6%81%E7%94%A8/","/tag/%E5%8A%A0%E5%AF%86/","/tag/%E5%B8%83%E5%B1%80/","/tag/markdown/","/tag/%E9%A1%B5%E9%9D%A2%E9%85%8D%E7%BD%AE/","/tag/%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/","/tag/c__/","/tag/%E7%AE%97%E6%B3%95/","/tag/python/","/tag/%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/","/tag/java/","/en/tag/","/en/tag/disable/","/en/tag/encryption/","/en/tag/layout/","/en/tag/markdown/","/en/tag/page-config/","/en/tag/guide/","/article/","/en/article/","/star/","/en/star/","/timeline/","/en/timeline/"],Ce="SEARCH_PRO_QUERY_HISTORY",m=M(Ce,[]),De=()=>{const{queryHistoryCount:a}=H,l=a>0;return{enabled:l,queryHistory:m,addQueryHistory:r=>{l&&(m.value=Array.from(new Set([r,...m.value.slice(0,a-1)])))},removeQueryHistory:r=>{m.value=[...m.value.slice(0,r),...m.value.slice(r+1)]}}},L=a=>fe[a.id]+("anchor"in a?`#${a.anchor}`:""),He="SEARCH_PRO_RESULT_HISTORY",{resultHistoryCount:$}=H,A=M(He,[]),Re=()=>{const a=$>0;return{enabled:a,resultHistory:A,addResultHistory:l=>{if(a){const r={link:L(l),display:l.display};"header"in l&&(r.header=l.header),A.value=[r,...A.value.slice(0,$-1)]}},removeResultHistory:l=>{A.value=[...A.value.slice(0,l),...A.value.slice(l+1)]}}},ke=a=>{const l=de(),r=U(),R=pe(),o=b(0),x=D(()=>o.value>0),h=he([]);return ve(()=>{const{search:v,terminate:k}=ye(),g=me(E=>{const B=E.join(" "),{searchFilter:w=p=>p,splitWord:Q,suggestionsFilter:P,...y}=l.value;B?(o.value+=1,v(E.join(" "),r.value,y).then(p=>w(p,B,r.value,R.value)).then(p=>{o.value-=1,h.value=p}).catch(p=>{console.warn(p),o.value-=1,o.value||(h.value=[])})):h.value=[]},H.searchDelay-H.suggestDelay);Y([a,r],([E])=>g(E),{immediate:!0}),Ae(()=>{k()})}),{isSearching:x,results:h}};var Qe=te({name:"SearchResult",props:{queries:{type:Array,required:!0},isFocusing:Boolean},emits:["close","updateQuery"],setup(a,{emit:l}){const r=se(),R=U(),o=ae(le),{enabled:x,addQueryHistory:h,queryHistory:v,removeQueryHistory:k}=De(),{enabled:g,resultHistory:E,addResultHistory:B,removeResultHistory:w}=Re(),Q=x||g,P=re(a,"queries"),{results:y,isSearching:p}=ke(P),i=ie({isQuery:!0,index:0}),c=b(0),d=b(0),T=D(()=>Q&&(v.value.length>0||E.value.length>0)),F=D(()=>y.value.length>0),q=D(()=>y.value[c.value]||null),G=()=>{const{isQuery:e,index:t}=i;t===0?(i.isQuery=!e,i.index=e?E.value.length-1:v.value.length-1):i.index=t-1},J=()=>{const{isQuery:e,index:t}=i;t===(e?v.value.length-1:E.value.length-1)?(i.isQuery=!e,i.index=0):i.index=t+1},K=()=>{c.value=c.value>0?c.value-1:y.value.length-1,d.value=q.value.contents.length-1},z=()=>{c.value=c.value<y.value.length-1?c.value+1:0,d.value=0},N=()=>{d.value<q.value.contents.length-1?d.value+=1:z()},V=()=>{d.value>0?d.value-=1:K()},S=e=>e.map(t=>xe(t)?t:s(t[0],t[1])),W=e=>{if(e.type==="customField"){const t=ge[e.index]||"$content",[n,C=""]=Be(t)?t[R.value].split("$content"):t.split("$content");return e.display.map(u=>s("div",S([n,...u,C])))}return e.display.map(t=>s("div",S(t)))},f=()=>{c.value=0,d.value=0,l("updateQuery",""),l("close")},X=()=>x?s("ul",{class:"search-pro-result-list"},s("li",{class:"search-pro-result-list-item"},[s("div",{class:"search-pro-result-title"},o.value.queryHistory),v.value.map((e,t)=>s("div",{class:["search-pro-result-item",{active:i.isQuery&&i.index===t}],onClick:()=>{l("updateQuery",e)}},[s(O,{class:"search-pro-result-type"}),s("div",{class:"search-pro-result-content"},e),s("button",{class:"search-pro-remove-icon",innerHTML:I,onClick:n=>{n.preventDefault(),n.stopPropagation(),k(t)}})]))])):null,Z=()=>g?s("ul",{class:"search-pro-result-list"},s("li",{class:"search-pro-result-list-item"},[s("div",{class:"search-pro-result-title"},o.value.resultHistory),E.value.map((e,t)=>s(j,{to:e.link,class:["search-pro-result-item",{active:!i.isQuery&&i.index===t}],onClick:()=>{f()}},()=>[s(O,{class:"search-pro-result-type"}),s("div",{class:"search-pro-result-content"},[e.header?s("div",{class:"content-header"},e.header):null,s("div",e.display.map(n=>S(n)).flat())]),s("button",{class:"search-pro-remove-icon",innerHTML:I,onClick:n=>{n.preventDefault(),n.stopPropagation(),w(t)}})]))])):null;return oe("keydown",e=>{if(a.isFocusing){if(F.value){if(e.key==="ArrowUp")V();else if(e.key==="ArrowDown")N();else if(e.key==="Enter"){const t=q.value.contents[d.value];h(a.queries.join(" ")),B(t),r.push(L(t)),f()}}else if(g){if(e.key==="ArrowUp")G();else if(e.key==="ArrowDown")J();else if(e.key==="Enter"){const{index:t}=i;i.isQuery?(l("updateQuery",v.value[t]),e.preventDefault()):(r.push(E.value[t].link),f())}}}}),Y([c,d],()=>{var e;(e=document.querySelector(".search-pro-result-list-item.active .search-pro-result-item.active"))==null||e.scrollIntoView(!1)},{flush:"post"}),()=>s("div",{class:["search-pro-result-wrapper",{empty:a.queries.length?!F.value:!T.value}],id:"search-pro-results"},a.queries.length?p.value?s(ne,{hint:o.value.searching}):F.value?s("ul",{class:"search-pro-result-list"},y.value.map(({title:e,contents:t},n)=>{const C=c.value===n;return s("li",{class:["search-pro-result-list-item",{active:C}]},[s("div",{class:"search-pro-result-title"},e||o.value.defaultTitle),t.map((u,ee)=>{const _=C&&d.value===ee;return s(j,{to:L(u),class:["search-pro-result-item",{active:_,"aria-selected":_}],onClick:()=>{h(a.queries.join(" ")),B(u),f()}},()=>[u.type==="text"?null:s(u.type==="title"?ue:u.type==="heading"?Ee:ce,{class:"search-pro-result-type"}),s("div",{class:"search-pro-result-content"},[u.type==="text"&&u.header?s("div",{class:"content-header"},u.header):null,s("div",W(u))])])})])})):o.value.emptyResult:Q?T.value?[X(),Z()]:o.value.emptyHistory:o.value.emptyResult)}});export{Qe as default};
